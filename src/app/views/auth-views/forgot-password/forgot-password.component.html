<div class="center w-p-100">
  <form [formGroup]="forgotPasswordForm">
    <div class="m-l-r-10 h-px-90">
      <ion-item>
        <ion-label position="floating">Username</ion-label>
        <ion-input type="text" formControlName="username"></ion-input>
      </ion-item>
      <div [hidden]="!isValidField(forgotPasswordForm, 'username')">
        <p class="error height-match">{{getErrorMessage(forgotPasswordForm, validationMessages, 'username')}}</p>
      </div>
    </div>
    <div class="m-l-r-10 h-px-70" *ngIf="showSecurityQuestion">
      <ion-item>
        <ion-label position="floating">Security Question</ion-label>
        <ion-input type="password" formControlName="securityQuestion"></ion-input>
      </ion-item>
      <div [hidden]="!isValidField(forgotPasswordForm, 'securityQuestion')">
        <p class="error height-match">{{getErrorMessage(forgotPasswordForm, validationMessages, 'securityQuestion')}}
        </p>
      </div>
    </div>
    <div class="m-l-r-10 m-t-10 ion-text-center">
      <ng-container *ngIf="!showSecurityQuestion">
        <ion-button class="pointer" expand="block" fill="outline" (click)="getSecurityQuestion()"
          [disabled]="forgotPasswordForm.get('username').invalid">
          Get Security Question</ion-button>
      </ng-container>
      <ng-container *ngIf="showSecurityQuestion">
        <ion-button class="pointer" expand="block" fill="outline" (click)="getSecurityQuestion()"
          [disabled]="forgotPasswordForm.invalid" (click)="getForgotPassword()">Get Password</ion-button>
      </ng-container>
      <div class="m-t-10">
        <div class="ion-float-left">
          <a class="pointer" routerLink="/registration">Register?</a>
        </div>
        <div class="ion-float-right">
          <a class="pointer" routerLink="/login">Login ?</a>
        </div>
      </div>
    </div>
  </form>
</div>